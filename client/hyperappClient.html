<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="./hyperappClient.css" />
    <script type="module">

/* Your code goes here */      

      import {h, text, app} from "https://cdn.skypack.dev/hyperapp"


      const AddItem = (state) => ({
        ...state,
        value: "",
        items: state.items.concat(state.value)
      })

      const NewValue = (state, event) => ({
        ...state,
        value: event.target.value,
      })

      const NewKeyword = (state, event) => ({
        ...state,
        keywordValue: event.target.keywordValue,
      })

      const AddKeywords = (state) => ({
        ...state,
        keywordValue: "",
        keywords: state.keywords.concat(state.value)
      })

      const NewDescription = (state, event) => ({
        ...state,
        descriptionValue: event.target.descriptionValue,
        
      })

      /*const AddDescription = (state) => ({
        ...state,
        descriptionValue: "",
        description: state.keywords.concat(state.value)
      })*/

      const NewImageURL = (state, event) => ({
        ...state,
        URLValue: event.target.URLValue,
      })

      const NewLatitude = (state, event) => ({
        ...state,
        latitudeValue: event.target.latitudeValue,
      })

      const NewLongitude = (state, event) => ({
        ...state,
        longitudeValue: event.target.longitudeValue,
      })



      
      /*const DeleteItem = (state, event) => ({
        ...state,
        value: event.target.value,

        fetch(${urlAPI}/delete),

      }) */

      app({
        init:{ items: [], keywords: [], value: "", keywordValue: ""},
        
        view: ({ items, keywords, description,  URL, value, InputBoxes }) => h("main", {}, [

          h("h1", {}, text("Add item")),
          h("h2", {}, text("Keywords")),
          h("input", { type: "text", placeholder:"Keyword", oninput: NewKeyword}),
          h("button", { onclick: AddKeywords }, text("Add keyword")),
          h("h3", {}, text("Current keywords:")),
          h("ul", {},
            keywords.map((keyword) => h("li", {}, text(keyword))),
          ),

          h("h2", {}, text("Enter data: ")),
          h("input", { type: "text", name:"description", placeholder:"Description", oninput: NewDescription }),
          h("input", { type: "text", name:"URL", placeholder:"Image URL", oninput: NewImageURL }),
          h("input", { type: "text", name:"latitude", placeholder:"Latitude", oninput: NewLatitude }),
          h("input", { type: "text", name:"longitude", placeholder:"Longitude", oninput: NewLongitude }),
          h("button", { onclick: AddItem }, text("Add item")),



          
          h("h1", {}, text("Get data")),
          
          
          h("ul", {},
            items.map((item) => h("li", {}, text(item))),
          ),
      
          h("h1",{}, text("Delete data")),
          h("h2", {}, text("Enter id of data to delete")),
          h("input", { type: "text", oninput: NewValue, value}),
          //h("button", { onclick: DeleteItem }, text("Delete")),






        ]),
      node: document.getElementById("app"),
    })


    </script>
  </head>
  <body>
    <main id="app"/>
  </body>
</html>